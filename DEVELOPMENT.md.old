# VueDrag Builder å¼€å‘æŒ‡å—

## ğŸ“‹ æ›´æ–°æ—¥å¿— (2025-12-03)

### âœ… è¡¥å…¨ MVP ç»„ä»¶åº“ (æœ€æ–°)

æ ¹æ®PRDæ–‡æ¡£è¦æ±‚,è¡¥å…¨äº†ä»¥ä¸‹ç¼ºå¤±çš„ç»„ä»¶:

1. **Textarea (æ–‡æœ¬åŸŸ)** - å¤šè¡Œæ–‡æœ¬è¾“å…¥
   - é»˜è®¤4è¡Œé«˜åº¦
   - æ”¯æŒplaceholderå’ŒmodelValue

2. **Icon (å›¾æ ‡)** - Element Pluså›¾æ ‡ç»„ä»¶
   - æ”¯æŒå¤šç§å›¾æ ‡: VideoPlay, Star, Setting
   - å¯é…ç½®å¤§å°

3. **Video (è§†é¢‘)** - HTML5è§†é¢‘æ’­æ”¾å™¨
   - æ”¯æŒcontrolsæ§åˆ¶æ 
   - å“åº”å¼å®½åº¦
   - é»˜è®¤ç¤ºä¾‹è§†é¢‘

4. **DatePicker (æ—¥æœŸé€‰æ‹©å™¨)** - Element Plusæ—¥æœŸé€‰æ‹©
   - æ”¯æŒplaceholder
   - å®Œæ•´æ—¥æœŸé€‰æ‹©åŠŸèƒ½

**æ›´æ–°æ–‡ä»¶:**
- `src/utils/componentRegistry.js` - æ·»åŠ 4ä¸ªæ–°ç»„ä»¶å®šä¹‰
- `src/components/canvas/DynamicComponent.vue` - æ·»åŠ Iconå’ŒVideoç‰¹æ®Šæ¸²æŸ“é€»è¾‘

**ç»„ä»¶åº“ç°çŠ¶:**
- âœ… å®¹å™¨ç»„ä»¶: 4ä¸ª (Container, Flex, Grid, Card)
- âœ… åŸºç¡€ç»„ä»¶: 6ä¸ª (Button, Text, Heading, Image, Divider, Link)
- âœ… è¡¨å•ç»„ä»¶: 7ä¸ª (Input, Textarea, Select, Checkbox, Radio, Switch, DatePicker)
- âœ… åª’ä½“ç»„ä»¶: 2ä¸ª (Icon, Video)
- **æ€»è®¡: 19ä¸ªç»„ä»¶ - PRDè¦æ±‚çš„æ‰€æœ‰MVPç»„ä»¶å·²å…¨éƒ¨å®ç°!**

### ğŸ› Bugä¿®å¤

1. **ä¿®å¤ preload.js ç¼–è¯‘é”™è¯¯**
   - é—®é¢˜: ä½¿ç”¨äº† ES Module çš„ `import` è¯­æ³•å¯¼è‡´ Electron æ— æ³•åŠ è½½
   - è§£å†³: æ”¹ç”¨ CommonJS è¯­æ³• `const { contextBridge, ipcRenderer } = require('electron')`
   - æ–‡ä»¶: `electron/preload.js`

2. **è§£å†³ Vue å…¨å±€ç±»å‹è­¦å‘Š**
   - é—®é¢˜: "Failed to write the global types file" ç¼–è¯‘è­¦å‘Š
   - è§£å†³: åˆ›å»º `jsconfig.json` å¹¶é…ç½® `vueCompilerOptions.globalTypesPath`

### ğŸ¨ UIå…¨é¢æ”¹ç‰ˆ - VSCodeæ·±è‰²ä¸»é¢˜

å®Œå…¨é‡æ„UIä¸ºVSCodeé£æ ¼,æä¾›ä¸“ä¸šIDEä½“éªŒ:

#### ğŸ“ å…¨å±€ä¸»é¢˜å˜é‡ (`src/App.vue`)
```css
--vscode-bg: #1e1e1e              /* ä¸»èƒŒæ™¯ */
--vscode-sidebar-bg: #252526       /* ä¾§è¾¹æ èƒŒæ™¯ */
--vscode-titlebar-bg: #323233      /* æ ‡é¢˜æ èƒŒæ™¯ */
--vscode-border: #3e3e42           /* è¾¹æ¡†é¢œè‰² */
--vscode-highlight: #007acc        /* é«˜äº®è“ */
--vscode-text-primary: #cccccc     /* ä¸»æ–‡æœ¬ */
--vscode-text-secondary: #858585   /* æ¬¡è¦æ–‡æœ¬ */
```

#### ğŸ  æ¬¢è¿é¡µé¢ (`WelcomeView.vue`)
- âœ“ æ·±è‰²çº¯è‰²èƒŒæ™¯æ›¿ä»£æ¸å˜
- âœ“ å­—ä½“ç²—ç»† 300 (è½»é‡çº§)
- âœ“ æŒ‰é’®é«˜åº¦ 48px,å­—ä½“ 14px
- âœ“ å¡ç‰‡ä½¿ç”¨ä¾§è¾¹æ èƒŒæ™¯è‰²

#### ğŸ“Š é¡¶éƒ¨å·¥å…·æ  (`TopBar.vue`)
- âœ“ é«˜åº¦ 35px (VSCodeæ ‡å‡†)
- âœ“ å­—ä½“ 13px
- âœ“ æŒ‰é’®é«˜åº¦ 28px,é€æ˜èƒŒæ™¯
- âœ“ Hoveræ˜¾ç¤ºç°è‰²èƒŒæ™¯

#### ğŸ“‚ ä¾§è¾¹æ é¢æ¿ (`LeftPanel.vue`, `RightPanel.vue`)
- âœ“ èƒŒæ™¯ `#252526`
- âœ“ Tabé«˜åº¦ 35px,åº•éƒ¨è“è‰²é«˜äº®æ¡
- âœ“ å†…å®¹åŒºåŸŸé—´è·ä¼˜åŒ–ä¸º 8px

#### ğŸ–¼ï¸ ç”»å¸ƒåŒºåŸŸ (`CanvasArea.vue`)
- âœ“ ç¼–è¾‘å™¨èƒŒæ™¯ `#1e1e1e`
- âœ“ ç”»å¸ƒç™½è‰²èƒŒæ™¯,æ·±è‰²é˜´å½±
- âœ“ æ‹–æ‹½é«˜äº®ä½¿ç”¨è“è‰²è™šçº¿è¾¹æ¡†

#### ğŸ§© ç»„ä»¶åº“ (`ComponentLibrary.vue`)
- âœ“ ç½‘æ ¼é—´è· 6px
- âœ“ ç»„ä»¶é¡¹å­—ä½“ 11px
- âœ“ åˆ†ç±»æ ‡é¢˜å¤§å†™ + å®½å­—æ¯é—´è·
- âœ“ Hoveræ•ˆæœä¼˜åŒ–

#### ğŸ“ åº•éƒ¨é¢æ¿ (`BottomPanel.vue`)
- âœ“ æ ‡é¢˜æ é«˜åº¦ 35px
- âœ“ ç»ˆç«¯ä½¿ç”¨ Consolas ç­‰å®½å­—ä½“
- âœ“ é—®é¢˜é¢æ¿é¢œè‰²: é”™è¯¯çº¢ `#f14c4c`, è­¦å‘Šé»„ `#cca700`
- âœ“ æŠ˜å åŠ¨ç”» 0.15s

#### âš™ï¸ å±æ€§é¢æ¿ (`PropertyPanel.vue`)
- âœ“ æ ‡ç­¾å­—ä½“ 12px,æ¬¡è¦é¢œè‰²
- âœ“ è¾“å…¥æ¡†å­—ä½“ 13px

## é¡¹ç›®å·²å®ŒæˆåŠŸèƒ½

### âœ… å·²å®ç°çš„æ ¸å¿ƒåŠŸèƒ½

1. **é¡¹ç›®ç»“æ„æ­å»º**
   - Electron + Vue3 + Vite å®Œæ•´é…ç½®
   - ESLint + Prettier ä»£ç è§„èŒƒ
   - é¡¹ç›®ç›®å½•ç»“æ„å®Œæ•´

2. **Electron ä¸»è¿›ç¨‹**
   - çª—å£ç®¡ç†å’Œç”Ÿå‘½å‘¨æœŸ
   - IPC é€šä¿¡æœºåˆ¶ï¼ˆæ–‡ä»¶è¯»å†™ã€å¯¹è¯æ¡†ã€å‘½ä»¤æ‰§è¡Œï¼‰
   - åº”ç”¨èœå•é…ç½®
   - å®‰å…¨çš„ preload è„šæœ¬

3. **Vue3 åº”ç”¨æ¡†æ¶**
   - è·¯ç”±é…ç½®ï¼ˆæ¬¢è¿é¡µ + ç¼–è¾‘å™¨é¡µï¼‰
   - Pinia çŠ¶æ€ç®¡ç†ï¼ˆ5ä¸ªæ ¸å¿ƒ storesï¼‰
   - å…¨å±€æ ·å¼å’Œä¸»é¢˜å˜é‡

4. **ä¸»ç¼–è¾‘å™¨å¸ƒå±€**
   - TopBar: å·¥å…·æ ï¼ˆæ’¤é”€/é‡åš/ä¿å­˜/é¢„è§ˆ/å¯¼å‡º/æ¨¡å¼åˆ‡æ¢ï¼‰
   - LeftPanel: ç»„ä»¶åº“ + é¡µé¢ç®¡ç†
   - CanvasArea: ç”»å¸ƒæ¸²æŸ“åŒºåŸŸ
   - RightPanel: å±æ€§é…ç½®é¢æ¿ï¼ˆå±æ€§/æ ·å¼/äº‹ä»¶ï¼‰
   - BottomPanel: VSCode é£æ ¼ç»ˆç«¯é¢æ¿

5. **ç»„ä»¶ç³»ç»Ÿ**
   - DynamicComponent: é€’å½’ç»„ä»¶æ¸²æŸ“å™¨
   - ComponentLibrary: å¯æ‹–æ‹½ç»„ä»¶åº“
   - ComponentRegistry: ç»„ä»¶æ³¨å†Œè¡¨
   - åŸºç¡€ç»„ä»¶æ”¯æŒï¼ˆButton/Input/Container/Flex/Text/Imageï¼‰

6. **çŠ¶æ€ç®¡ç†**
   - projectStore: é¡¹ç›®ç®¡ç†
   - canvasStore: ç»„ä»¶æ ‘ç®¡ç†
   - editorStore: ç¼–è¾‘å™¨çŠ¶æ€
   - historyStore: æ’¤é”€/é‡åš
   - errorsStore: é”™è¯¯/è­¦å‘Šç®¡ç†

## å¦‚ä½•å¯åŠ¨é¡¹ç›®

### å¼€å‘æ¨¡å¼

```bash
# 1. å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨ï¼ˆåœ¨ä¸€ä¸ªç»ˆç«¯ï¼‰
npm run dev

# 2. å¯åŠ¨ Electron åº”ç”¨ï¼ˆåœ¨å¦ä¸€ä¸ªç»ˆç«¯ï¼‰
npm run electron:dev

# æˆ–è€…ä½¿ç”¨ concurrently åŒæ—¶å¯åŠ¨ï¼ˆéœ€è¦å…ˆå®‰è£…ä¾èµ–ï¼‰
npm run electron:dev
```

### è®¿é—®åœ°å€

- Vite å¼€å‘æœåŠ¡å™¨: http://localhost:5173
- Electron åº”ç”¨ä¼šè‡ªåŠ¨åŠ è½½è¯¥åœ°å€

## å¾…å®ç°åŠŸèƒ½ï¼ˆåç»­å¼€å‘ï¼‰

### ğŸ”² é«˜ä¼˜å…ˆçº§

1. **æ‹–æ‹½åŠŸèƒ½å®Œå–„**
   - å®ç° drop äº‹ä»¶å¤„ç†
   - æ‹–æ‹½ä½ç½®é«˜äº®æç¤º
   - æ‹–æ‹½åˆ°ç”»å¸ƒæ·»åŠ ç»„ä»¶

2. **ç”»å¸ƒäº¤äº’å¢å¼º**
   - ç»„ä»¶é€‰ä¸­æ¡†æ¸²æŸ“
   - ç»„ä»¶æ‹–æ‹½ç§»åŠ¨
   - ç»„ä»¶å°ºå¯¸è°ƒæ•´

3. **ä»£ç æ¨¡å¼å®ç°**
   - Monaco Editor é›†æˆ
   - ä»£ç ç”Ÿæˆå™¨ï¼ˆç»„ä»¶æ ‘ â†’ Vue SFCï¼‰
   - AST è§£æå™¨ï¼ˆVue SFC â†’ ç»„ä»¶æ ‘ï¼‰
   - åŒå‘åŒæ­¥æœºåˆ¶

4. **å¯¼å‡ºåŠŸèƒ½**
   - å¯¼å‡ºä¸º Vite + Vue3 æºç å·¥ç¨‹
   - å¯¼å‡ºä¸ºæ„å»ºåçš„ dist ç›®å½•
   - npm install å’Œ build è‡ªåŠ¨åŒ–

### ğŸ”² ä¸­ä¼˜å…ˆçº§

5. **è¡¨å•æ ¡éªŒ**
   - é›†æˆ async-validator
   - æ ¡éªŒè§„åˆ™é…ç½®ç•Œé¢
   - å®æ—¶æ ¡éªŒåé¦ˆ

6. **äº‹ä»¶ç³»ç»Ÿå®Œå–„**
   - é¡µé¢è·³è½¬å®ç°
   - ç»„ä»¶æ˜¾ç¤º/éšè—æ§åˆ¶
   - è‡ªå®šä¹‰ JS ä»£ç ç¼–è¾‘

7. **æ ·å¼ç¼–è¾‘å¢å¼º**
   - Flex/Grid å¸ƒå±€å¯è§†åŒ–é…ç½®
   - å“åº”å¼æ–­ç‚¹æ”¯æŒ
   - CSS åŠ¨ç”»é…ç½®

### ğŸ”² ä½ä¼˜å…ˆçº§

8. **æ€§èƒ½ä¼˜åŒ–**
   - è™šæ‹Ÿæ»šåŠ¨
   - ç»„ä»¶æ‡’åŠ è½½
   - å¤§é‡ç»„ä»¶æ—¶çš„æ¸²æŸ“ä¼˜åŒ–

9. **ç”¨æˆ·ä½“éªŒ**
   - å¿«æ·é”®ç³»ç»Ÿ
   - å³é”®èœå•
   - æ‹–æ‹½é¢„è§ˆæ•ˆæœ

## å¼€å‘å»ºè®®

### ä¸‹ä¸€æ­¥å¼€å‘é¡ºåº

1. **å®Œå–„æ‹–æ‹½åŠŸèƒ½** - è®©ç»„ä»¶èƒ½çœŸæ­£æ‹–åˆ°ç”»å¸ƒä¸Š
   ```javascript
   // åœ¨ CanvasArea.vue æ·»åŠ 
   const handleDrop = (e) => {
     const componentData = JSON.parse(e.dataTransfer.getData('component'))
     canvasStore.addComponent(componentData)
   }
   ```

2. **æµ‹è¯•é¡¹ç›®ä¿å­˜/åŠ è½½** - ç¡®ä¿æ•°æ®æŒä¹…åŒ–æ­£å¸¸å·¥ä½œ

3. **å®ç°ä»£ç æ¨¡å¼** - è¿™æ˜¯ MVP çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€

4. **å®ç°å¯¼å‡ºåŠŸèƒ½** - è®©ç”¨æˆ·èƒ½è·å¾—å¯ç”¨çš„é¡¹ç›®

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ Composition API (`<script setup>`)
- Props ä½¿ç”¨ TypeScript ç±»å‹æˆ– PropTypes
- ç»„ä»¶åä½¿ç”¨ PascalCase
- æ–‡ä»¶åä½¿ç”¨ PascalCase
- å·¥å…·å‡½æ•°ä½¿ç”¨ camelCase

### æµ‹è¯•å»ºè®®

1. **å•å…ƒæµ‹è¯•**: æµ‹è¯• stores å’Œå·¥å…·å‡½æ•°
2. **é›†æˆæµ‹è¯•**: æµ‹è¯•ç»„ä»¶äº¤äº’
3. **E2E æµ‹è¯•**: æµ‹è¯•å®Œæ•´å·¥ä½œæµ

## æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜

1. **Electron çª—å£æ‰“ä¸å¼€**
   - æ£€æŸ¥ Vite å¼€å‘æœåŠ¡å™¨æ˜¯å¦å¯åŠ¨
   - æŸ¥çœ‹ electron/main.js çš„æ—¥å¿—

2. **ç»„ä»¶æ— æ³•æ¸²æŸ“**
   - æ£€æŸ¥ componentRegistry æ˜¯å¦æ­£ç¡®å¯¼å‡º
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

3. **æ ·å¼ä¸ç”Ÿæ•ˆ**
   - ç¡®è®¤ Element Plus æ ·å¼å·²å¯¼å…¥
   - æ£€æŸ¥ CSS å˜é‡å®šä¹‰

## è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## è”ç³»æ–¹å¼

- Issue: [GitHub Issues]
- Email: [your-email@example.com]
- æ–‡æ¡£: [é¡¹ç›®æ–‡æ¡£é“¾æ¥]
